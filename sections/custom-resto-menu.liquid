{% if section.settings.heading %}
  <h2>{{ section.settings.heading }}</h2>
{% endif %}

<div class="menu">
  {% for block in section.blocks %}
    {% if block.type == "menu_item" %}
      <div class="menu-item">
        <div class="menu-item-header">
          <h3>{{ block.settings.name }}</h3>
          <span class="price">{{ block.settings.price }}</span>
        </div>
        {% if block.settings.description != blank %}
          <p class="description">{{ block.settings.description }}</p>
        {% endif %}
      </div>
    {% endif %}
  {% endfor %}
</div>
{% schema %}
{
  "name": "Restaurant Menu",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Menu Heading",
      "default": "Our Menu"
    }
  ],
  "blocks": [
    {
      "type": "menu_item",
      "name": "Menu Item",
      "settings": [
        {
          "type": "text",
          "id": "name",
          "label": "Dish / Wine Name",
          "default": "Margherita Pizza"
        },
        {
          "type": "text",
          "id": "description",
          "label": "Description",
          "default": "Classic tomato and mozzarella pizza with fresh basil"
        },
        {
          "type": "text",
          "id": "price",
          "label": "Price",
          "default": "$12"
        }
      ]
    }
  ],
  "max_blocks": 50,
  "presets": [
    {
      "name": "Restaurant Menu",
      "category": "Custom",
      "blocks": [
        {
          "type": "menu_item",
          "settings": {
            "name": "Margherita Pizza",
            "price": "$12"
          }
        },
        {
          "type": "menu_item",
          "settings": {
            "name": "Pepperoni Pizza",
            "price": "$14"
          }
        },
        {
          "type": "menu_item",
          "settings": {
            "name": "Chianti Red Wine",
            "price": "$8"
          }
        }
      ]
    }
  ]
}
{% endschema %}
