{% if section.settings.heading %}

<h2>{{ section.settings.heading }}</h2>
{% endif %}
{%  form 'contact', id: 'ContactForm' %}
      {%- if form.posted_successfully? -%}
        <p>Your message has been sent</p>
     
  
      {%- elsif form.errors -%}
    {{ form.errors | default_errors }}
      {%- endif -%}

      {% for block in section.blocks %}
        {% if block.type == "input" %}
                <div>
        <label for="{{ block.settings.id }}">{{ block.settings.label }}</label>
    <input type="{{  block.settings.type }}" name="contact[{{ block.settings.name }}]" id="{{ block.settings.id }}" placeholder="{{  block.settings.placeholder }}" value="{% if form[block.settings.name] %}{{form[ block.settings.name]}}{% endif %}">
    </div>
            {% endif %}
        {% endfor %}
    

      
    
  
{% endform %} 
{% schema %}
{
    "name": "Custom Contact Form",
    "settings": [
        {"type": "text",
            "label": "Heading text",
            "id": "heading",
        },  {
      "type": "text",
      "id": "help",
      "label": "Instructions",
      "default": "Add blocks below to create custom fields like email, name, phone number, etc. Choose a type from the dropdown."
    }

    ],
    "blocks": [
        {
            "name": "Input",
            "type": "input",
            "settings": [
                {
                    "type": "text",
                    "id": "name",
                    "label": "Name"
                },
                {
                    "type": "text",
                    "id": "placeholder",
                    "label": "Placeholder"
                },
                {
                    "type": "text",
                    "id": "label",
                    "label": "Label"
                },
                {
                    "type": "text",
                    "id": "id",
                    "label": "Id"
                }, {
                    "type": "select",
                    "id": "type",
                    "label": "Input Type",
                    "default": "text",
                    "options": [
                           { "value": "text", "label": "Text" },
            { "value": "email", "label": "Email" },
            { "value": "tel", "label": "Phone Number" },
            { "value": "number", "label": "Number" },
            { "value": "url", "label": "Website URL" },
            { "value": "date", "label": "Date" },
            { "value": "textarea", "label": "Textarea" },
             { "value": "checkbox", "label": "Checkbox" }
                    ]
                }, 
                
            ]
        }
    ],
    "presets": [ {
        "name": "Custom Contact Form"
    }
    ]
}

 {% endschema %}